*{box-sizing:border-box}
:root{--bg:#0b1020;--ink:#ecf1ff;--muted:#a7b6de;--line:#243057;--panel:#0f1733;--panel2:#121c3a;--accent:#7da6ff;--danger:#d95a76}
html,body{height:100%}
body{margin:0;background:radial-gradient(1100px 500px at 12% 8%,#172a62 0%,#0b1020 60%);color:var(--ink);font:15px/1.5 system-ui,Segoe UI,Arial}
.app{max-width:900px;margin:0 auto;padding:12px}
.topbar{display:flex;align-items:center;justify-content:space-between;margin:8px 0 10px}
.brand{display:flex;gap:8px;align-items:center}.logo{font-size:22px}.pill{border:1px solid var(--line);border-radius:999px;padding:4px 10px;font-size:12px;color:var(--muted)}

.hero{background:var(--panel);border:1px solid var(--line);border-radius:18px;padding:14px;display:grid;grid-template-columns:auto 1fr;gap:12px;align-items:center;box-shadow:0 10px 30px rgba(0,0,0,.35)}
.big-emoji{font-size:100px;line-height:1;background:var(--panel2);border:1px solid var(--line);border-radius:22px;padding:12px 18px;box-shadow:inset 0 -6px 0 rgba(255,255,255,.06)}
.feel-row{display:flex;gap:6px;flex-wrap:wrap}
.feel{font-size:20px;border:1px solid var(--line);background:var(--panel2);color:var(--ink);padding:8px 10px;border-radius:12px;cursor:pointer}
.feel:hover{outline:2px solid #314581}
.hint{grid-column:1/3;margin:0;color:var(--muted);font-size:12px}

.tabs{display:flex;gap:8px;margin:12px 0}
.tab{background:var(--panel2);border:1px solid var(--line);color:var(--ink);padding:8px 12px;border-radius:12px;cursor:pointer}
.tab.active{outline:2px solid var(--accent)}

.view{display:none}.view.active{display:block}
.chat{height:360px;background:var(--panel2);border:1px solid var(--line);border-radius:12px;padding:10px;overflow:auto}

.composer{display:grid;grid-template-columns:auto 1fr auto;gap:12px;margin:14px 0 8px}
.composer input{flex:1;padding:12px 14px;border-radius:16px;border:1px solid var(--line);background:#0d1533;color:#fff}
.composer .primary{background:#2a3a76;border:1px solid var(--line);color:#fff;border-radius:14px;padding:12px 16px;cursor:pointer}
.ghost{background:transparent;border:1px solid var(--line);border-radius:14px;color:#fff;padding:12px 14px;cursor:pointer}

.card{background:var(--panel);border:1px solid var(--line);border-radius:16px;padding:12px;margin-bottom:12px}
.row{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
#journalText,#remText,select,input,textarea{border:1px solid var(--line);background:#0d1533;color:#fff;border-radius:12px;padding:10px}

.journal-list{list-style:none;padding:0;margin:0}
.journal-list li{padding:10px;border:1px dashed #22305a;border-radius:12px;margin-bottom:8px;display:flex;justify-content:space-between;gap:8px}

.foot{text-align:center;margin:16px 0;color:var(--muted);font-size:12px}

#remTime{color-scheme: dark;} /* better contrast for native picker */

@media(max-width:800px){
  .app{padding:8px}
  .chat{height:300px}
  .composer{grid-template-columns:1fr; gap:10px;}
  .composer .primary,.ghost{width:100%}
}

/* wAIt logo styling */
.logo-img{height:56px;width:auto;display:block;border-radius:10px}

/* Chat bubbles for clear user vs AI */
.chat .row{display:flex;margin:8px 0}
.bubble{max-width:72%;padding:10px 14px;border-radius:14px;background:var(--panel2);border:1px solid var(--line);color:var(--ink);}
.bubble.me{margin-left:auto;background:var(--accent);color:#0b1020;border-color:#375bb3;font-weight:600}

/* --- Reminder time input: force white clock icon --- */
#remTime { color-scheme: dark; padding-right: 44px; }
.time-wrap { position: relative; display: inline-block; }
.time-wrap::after{display:none}
@supports (-moz-appearance:none) {
  #remTime { filter: invert(0); }
  .time-wrap::after{display:none}
}

#remTime{ padding-right: 44px; background: transparent; }
.time-wrap{ position:relative; display:inline-block; }
.time-wrap::after{display:none}
@supports (-moz-appearance:none){
  #remTime{ color-scheme: dark; }
}

.time-wrap{ position:relative; display:inline-block; }
.time-wrap:focus-within{
  outline: 2px solid var(--accent);
  outline-offset: 2px;
  box-shadow: 0 0 0 4px rgba(125,166,255,.15);
}
#remTime{
  background: transparent;
  border: none;
  color: var(--ink);
  font-size: 18px;
  letter-spacing: 1px;
  width: 120px;
}
#remTime::placeholder{ color: var(--muted); opacity: .7; }

.time-wrap::after{display:none}

@media (max-width: 640px){
  #remText{ flex:1 1 100%; }
  .time-wrap{ position:relative; display:inline-block; }
}

.time-wrap{ position:relative; display:inline-block; }
.time-wrap:focus-within{ outline:none; box-shadow:none; }
#remTime{ background: transparent; border:1px solid var(--line); color:var(--ink); border-radius:12px; padding:10px 12px; font-size:16px; letter-spacing:0; width:auto; }
#remTime::placeholder{ color: var(--muted); opacity:.7; }

.time-wrap::after{display:none}

.time-wrap{ position:relative; display:inline-block; }

#remTime{
  padding-right: 44px;
  background: transparent;
  border: 1px solid var(--line);
  color: var(--ink);
  border-radius: 12px;
  height: 42px;
  line-height: 42px;
}
#remTime::-webkit-calendar-picker-indicator{
  opacity: 0 !important;
  -webkit-appearance: none;
  appearance: none;
}
.clock-icon{
  position: absolute;
  right: 12px;
  top: 50%;
  transform: translateY(-50%);
  width: 22px; height: 22px;
  background-repeat:no-repeat; background-size:contain;
  pointer-events: none;
  opacity: 0.95;
  background-image:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23ffffff'><path d='M12 2a10 10 0 1 0 10 10A10.011 10.011 0 0 0 12 2zm1 11h-4a1 1 0 0 1 0-2h3V7a1 1 0 0 1 2 0v5a 1 1 0 0 1-1 1z'/></svg>");
}

@supports (-moz-appearance:none){
  #remTime{ color-scheme: dark; }
}

/* ===== Tools styles ===== */
.breath-controls{display:flex; gap:8px; align-items:center; flex-wrap:wrap; margin-bottom:10px}
.breath-stage{font-weight:700; margin:6px 0 12px}
.breath-anim{height:160px; display:flex; align-items:center; justify-content:center}
.breath-anim .bubble{width:80px; height:80px; background:var(--accent); border-radius:999px; opacity:.9; transition:transform 1s ease; box-shadow:0 10px 30px rgba(0,0,0,.35)}

.settings-grid{display:flex; gap:8px; align-items:center; flex-wrap:wrap}
.import-label{border:1px solid var(--line); border-radius:10px; padding:8px 12px; cursor:pointer; background:var(--panel2)}

#trendWrap{background:var(--panel2); border:1px solid var(--line); border-radius:12px; padding:8px}

/* TTS playing indicator on chat bubble */
.bubble.speaking{outline:2px dashed var(--accent)}

/* Chat actions */
.chat-actions{display:flex; gap:8px; justify-content:flex-end; margin-bottom:8px}
button.danger{background:var(--danger); border:1px solid #a63e56; color:#fff; border-radius:12px; padding:8px 12px; cursor:pointer}
button.wide, .wide{width:100%}

/* Modal */
.backdrop{position:fixed; inset:0; background:rgba(0,0,0,.5); backdrop-filter: blur(2px); z-index:40}
.modal{position:fixed; inset:0; display:grid; place-items:center; z-index:41}
.modal-card{width:min(520px, 92vw); background:var(--panel); border:1px solid var(--line); border-radius:16px; padding:16px; box-shadow:0 20px 60px rgba(0,0,0,.5)}
.modal-card .row{margin-top:10px}

/* ====== NEW: wAIt thinking indicator ====== */
.thinking-bubble{
  opacity:0.85;
  font-style:italic;
  background:var(--panel2);
  border:1px solid var(--line);
  color:var(--ink);
}
.thinking-bubble .dots span{
  animation: blink 1.2s infinite;
  opacity:0;
}
.thinking-bubble .dots span:nth-child(1){ animation-delay:0s; }
.thinking-bubble .dots span:nth-child(2){ animation-delay:0.2s; }
.thinking-bubble .dots span:nth-child(3){ animation-delay:0.4s; }

@keyframes blink{
  0%,80%,100%{opacity:0;}
  40%{opacity:1;}
}
